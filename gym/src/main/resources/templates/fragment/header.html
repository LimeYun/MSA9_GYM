<!-- 프래그먼트 : 레이아웃에서 공통적으로 사용할 UI -->
<!-- th:fragment="프래그먼트 명" -->
<th:block th:fragment="header">
    <header>


        <!-- 사용자 & 관리자 권한 -->
        <th:block sec:authorize="hasAnyRole('ROLE_ADMIN','ROLE_USER','ROLE_TRAINER')">
            <ul>
                <li>
                    <h5><span th:text="${#authentication.principal.username}"></span>
                  님 환영합니다</h5></li>
                    <li><a href="/user/myPage/info" >마이페이지</a></li>
                    <form action="/logout" method="post">
                      <!-- CSRF TOKEN -->
                      <input type="hidden" th:name="${_csrf.parameterName}" th:value="${_csrf.token}">
                      <div class="d-grid gap-2">
                          <button type="submit"  class="btn btn-warning">로그아웃</button>
                      </div>
                  </form>
                  </ul>
                  </th:block>
                    <!-- 관리자 권한 -->
                    <th:block sec:authorize="hasAnyRole('ROLE_ADMIN','ROLE_TRAINER')">
                    </ul>
                    <li><a href="/admin/user/list" >관리자 페이지</a></li>
                    <form action="/logout" method="post">
                      <!-- CSRF TOKEN -->
                      <input type="hidden" th:name="${_csrf.parameterName}" th:value="${_csrf.token}">
                      <div class="d-grid gap-2">
                          <button type="submit"  class="btn btn-warning">로그아웃</button>
                      </div>
                  </form>
                  </ul>
                  </th:block>
                  </ul>
                
            <!-- 비 로그인 시 -->
            <th:block sec:authorize="isAnonymous()">
                <body> <header class="header"> <div class="menu-btn" id="menu-btn"> <div></div> <div></div> <div></div> </div> <div class="logo"> <img src="img/logo.png" alt="FITNEXUS Logo"> </div> <nav class="nav-links"> <a href="#" style="color: white;">회원가입</a> <a href="#" style="color: white;">로그인</a> <a href="#" style="color: white;">마이페이지</a> </nav> </header> <div class="menu" id="menu"> <p>USER 님 환영합니다~</p> <ul> <li><a href="#">출석 랭킹</a></li> <li><a href="#">이용권 구매</a></li> <li><a href="#">PT 예약</a></li> <li><a href="#">운동계획표</a></li> <li><a href="#">문의게시판</a></li> </ul> </div> <script src="scripts.js"></script> </body>
                    <script>
                      const menuBtn = document.getElementById('menu-btn');
const menu = document.getElementById('menu');

menuBtn.addEventListener('click', () => {
    menuBtn.classList.toggle('open');
    menu.classList.toggle('open');
});





                    </script>
              </th:block>

    </header>
</th:block>